<!DOCTYPE html>
<html>
<head>
    <title>Gesture Detection</title>
</head>
<body>
    <h1>Gesture Detection</h1>
    <img id="video-stream" src="">
    <script>
        const videoStream = document.getElementById("video-stream");
    
        const xhr = new XMLHttpRequest();
        xhr.open("GET", "/detect/");
        xhr.responseType = "arraybuffer";
    
        xhr.onload = () => {
            const frameData = new Uint8Array(xhr.response);
            const frameBuffer = new ArrayBuffer(frameData.byteLength);
            const frameView = new Uint8Array(frameBuffer);
            frameView.set(frameData);
    
            const img = new Image();
            img.onload = () => {
                videoStream.src = img.src;  // Update image source
            };
            img.src = URL.createObjectURL(new Blob([frameBuffer], { type: "image/jpeg" }));
        };
    
        xhr.send();
    </script>
</body>
</html>